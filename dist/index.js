var G=function(){"use strict";function t(t,i){i.forEach((function(i){t[i]=t[i].bind(t)}))}function i(t,i,n){return Math.min(Math.max(t,i),n)}function n(t){this.cb=t,this.r=null,this.s=null,this.E=!1,this._t=this._t.bind(this)}function e(t,i){this.d=i,this.cb=t,this.loop=this.loop.bind(this),this.rAF=new n(this.loop)}n.prototype.run=function(){this.E=!1,this.s=performance.now(),this.r=requestAnimationFrame(this._t)},n.prototype.stop=function(){this.E=!0,cancelAnimationFrame(this.r)},n.prototype._t=function(t){this.E||(this.cb(t-this.s),this.r=requestAnimationFrame(this._t))},e.prototype={run:function(){0===this.d?this.cb():this.rAF.run()},stop:function(){this.rAF.stop()},loop:function(t){i(t,0,this.d)===this.d&&(this.stop(),this.cb())}};var s={linear:function(t){return t},i1:function(t){return 1-Math.cos(t*(Math.PI/2))},o1:function(t){return Math.sin(t*(Math.PI/2))},io1:function(t){return-.5*(Math.cos(Math.PI*t)-1)},i2:function(t){return t*t},o2:function(t){return t*(2-t)},io2:function(t){return t<.5?2*t*t:(4-2*t)*t-1},i3:function(t){return t*t*t},o3:function(t){return--t*t*t+1},io3:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},i4:function(t){return t*t*t*t},o4:function(t){return 1- --t*t*t*t},io4:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},i5:function(t){return t*t*t*t*t},o5:function(t){return 1+--t*t*t*t*t},io5:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},i6:function(t){return 0===t?0:Math.pow(2,10*(t-1))},o6:function(t){return 1===t?1:1-Math.pow(2,-10*t)},io6:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))}};function r(t,i,n){return(i-t)*n+t}function o(t){return t instanceof HTMLElement}function a(t){return"string"==typeof t?Array.from(document.querySelectorAll(t)):o(t)?[t]:(i=t)instanceof NodeList||i instanceof HTMLCollection?Array.from(t):Array.isArray(t)?t:[t];var i}function h(t,i){return"function"==typeof t?t(i):t}function c(t){var i={};return t.scale&&(t.scaleX=t.scale,t.scaleY=t.scale,delete t.scale),t.rotate&&(t.rotateX=t.rotate,t.rotateY=t.rotate,delete t.rotate),Object.keys(t).forEach((function(n){i[n]={s:t[n][0],e:t[n][1],c:t[n][0],o:{s:t[n][0],e:t[n][1]}},"scale"!==n&&"opacity"!==n&&(i[n].u=void 0!==t[n][2]?t[n][2]:"x"===n||"y"===n?"%":"deg")})),i}function u(){this.all=[],this.L=0}function l(i){t(this,["_run","_tick"]),this._v=i,this._e=0,this._p=0,this._raf=new n(this._tick),this._delay=new e(this._run,i.delay)}function f(t){this._L=new u,this._e=0,this._p=0,this._raf=new n(this._tick),this._delay=new e(this._run,t.delay),this._v=this._init(t)}return u.prototype={a:function(t){return this.all.push(t),this.L=this.all.length,this},c:function(){return this.all.length=0,this.L=0,this},d:function(t){return this.all.splice(t,1),this.L=this.all.length,this}},l.prototype={play:function(){this._delay.run()},pause:function(){this._raf.stop(),this._delay&&this._delay.stop()},_li:function(t,i){var n,e,o="string"==typeof this._v.e?s[this._v.e](this._p):this._v.e(this._p);return n=r(t,i,o),e=void 0===(e=2)?100:Math.pow(10,e),Math.round(n*e)/e},_run:function(){this._raf.run()},_style:function(){var t=this._v.k,i={transform:"",opacity:""};if(t.x||t.y){var n=t.x?this._li(t.x.s,t.x.e):0,e=t.y?this._li(t.y.s,t.y.e):0,s=t.x?t.x.u:t.y.u;i.transform+="translate3d("+n+s+", "+e+s+", 0) "}return t.scaleX&&(t.scaleX.c=this._li(t.scaleX.s,t.scaleX.e),i.transform+="scaleX("+t.scaleX.c+") "),t.scaleY&&(t.scaleY.c=this._li(t.scaleY.s,t.scaleY.e),i.transform+="scaleY("+t.scaleY.c+") "),t.rotateX&&(t.rotateX.c=this._li(t.rotateX.s,t.rotateX.e),i.transform+="rotateX("+t.rotateX.c+t.rotateX.u+") "),t.rotateY&&(t.rotateY.c=this._li(t.rotateY.s,t.rotateY.e),i.transform+="rotateY("+t.rotateY.c+t.rotateY.u+") "),t.opacity&&(t.opacity.c=this._li(t.opacity.s,t.opacity.e),i.opacity=t.opacity.c),i},_tick:function(t){if(this._e=i(t,0,this._v.d),this._p=i(this._e/this._v.d,0,1),this._v.el)if(this._v.type===f.TARGET_TYPE.DOM){var n=this._style();n.transform&&(this._v.el.style.transform=n.transform),n.opacity&&(this._v.el.style.opacity=n.opacity)}else if(this._v.type===f.TARGET_TYPE.OBJECT)for(var e in this._v.k)this._v.el.hasOwnProperty(e)&&(this._v.el[e]=this._li(this._v.k[e].s,this._v.k[e].e));this._v.update&&this._v.update(this._p),1===this._p&&(this.pause(),this._v.cb&&this._v.cb())}},f.TARGET_TYPE={DOM:0,OBJECT:1},f.prototype={play:function(){for(var t=this._L.all,i=0;i<this._L.L;i++)t[i].play()},pause:function(){for(var t=this._L.all,i=0;i<this._L.L;i++)t[i].pause()},_init:function(t){for(var i={el:t.el,p:t.p,d:t.d||1e3,e:t.e||"io2",delay:t.delay||0,cb:t.cb||!1,update:t.update||!1},n=a(i.el),e=n.length,s=0;s<e;s++){var r=n[s],u=c(i.p);this._L.a(new l({el:r,d:h(i.d,s),k:u,e:i.e,type:o(r)?f.TARGET_TYPE.DOM:f.TARGET_TYPE.OBJECT,delay:h(i.delay,s),cb:i.cb,update:i.update}))}return i}},{Animate:f,bindAll:t,clamp:i,Delay:e,Ease:s,lerp:r,Raf:n}}();
