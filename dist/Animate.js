var Animate=function(){"use strict";function t(t,i,o){return Math.min(Math.max(t,i),o)}function i(t){this.cb=t,this.rAF=null,this.startTime=null,this.shouldStopTheLoop=!1,this.tick=this.tick.bind(this)}function o(t,o){this.d=o,this.cb=t,this.loop=this.loop.bind(this),this.rAF=new i(this.loop)}i.prototype.run=function(){this.shouldStopTheLoop=!1,this.startTime=performance.now(),this.rAF=requestAnimationFrame(this.tick)},i.prototype.stop=function(){this.shouldStopTheLoop=!0,cancelAnimationFrame(this.rAF)},i.prototype.tick=function(t){this.shouldStopTheLoop||(this.cb(t-this.startTime),this.rAF=requestAnimationFrame(this.tick))},o.prototype={run:function(){0===this.d?this.cb():this.rAF.run()},stop:function(){this.rAF.stop()},loop:function(i){t(i,0,this.d)===this.d&&(this.stop(),this.cb())}};var e={linear:function(t){return t},i1:function(t){return 1-Math.cos(t*(Math.PI/2))},o1:function(t){return Math.sin(t*(Math.PI/2))},io1:function(t){return-.5*(Math.cos(Math.PI*t)-1)},i2:function(t){return t*t},o2:function(t){return t*(2-t)},io2:function(t){return t<.5?2*t*t:(4-2*t)*t-1},i3:function(t){return t*t*t},o3:function(t){return--t*t*t+1},io3:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},i4:function(t){return t*t*t*t},o4:function(t){return 1- --t*t*t*t},io4:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},i5:function(t){return t*t*t*t*t},o5:function(t){return 1+--t*t*t*t*t},io5:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},i6:function(t){return 0===t?0:Math.pow(2,10*(t-1))},o6:function(t){return 1===t?1:1-Math.pow(2,-10*t)},io6:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))}};function r(t){return"string"==typeof t?Array.from(document.querySelectorAll(t)):t instanceof HTMLElement||function(t){return t instanceof HTMLElement}(t)?[t]:function(t){return t instanceof NodeList}(t)||function(t){return t instanceof HTMLCollection}(t)?Array.from(t):(Array.isArray(t),t)}function n(t){var o;o=this,["_init","_run","_tick"].forEach((function(t){o[t]=o[t].bind(o)})),this.e=0,this.p=0,this.pE=0,this.delay=null,this.raf=new i(this._tick),this.at=null,this.o=this._init(t)}return n.TARGET_TYPE={DOM:0,OBJECT:1},n.prototype={_init:function(t){var i={el:r(t.el),p:t.p,d:t.d||1e3,e:t.e||"io2",delay:t.delay||0,cb:t.cb||!1,update:t.update||!1};if(i.eL=i.el.length,this.at=Array.isArray(i.el)?n.TARGET_TYPE.DOM:n.TARGET_TYPE.OBJECT,this.at===n.TARGET_TYPE.DOM)i.props={},t.p.scale&&(t.p.scaleX=t.p.scale,t.p.scaleY=t.p.scale,delete t.p.scale),t.p.rotate&&(t.p.rotateX=t.p.rotate,t.p.rotateY=t.p.rotate,delete t.p.rotate),Object.keys(t.p).forEach((function(o){i.props[o]={s:t.p[o][0],e:t.p[o][1],c:t.p[o][0],o:{s:t.p[o][0],e:t.p[o][1]}},"scale"!==o&&"opacity"!==o&&(i.props[o].u=t.p[o][2]||"x"===o||"y"===o?"%":"deg")}));else if(this.at===n.TARGET_TYPE.OBJECT){i.props={};var e=Object.keys(t.p);e.forEach((function(o){i.props[o]={s:t.p[o][0],e:t.p[o][1],c:t.p[o][0],o:{s:t.p[o][0],e:t.p[o][1]}}})),i.props.pL=e.length}return this.delay=new o(this._run,i.delay),i},play:function(){this.pause(),this.delay.run()},pause:function(){this.raf.stop(),this.delay&&this.delay.stop()},_run:function(){this.raf.run()},_tick:function(i){this.e=t(i,0,this.o.d),this.p=t(this.e/this.o.d,0,1);var o=this.o.props,e={transform:""};if(this.at===n.TARGET_TYPE.DOM)o.x&&(o.x.c=this._lerp(o.x.s,o.x.e),e.transform+="translateX("+o.x.c+o.x.u+") ",e.transform+="translateZ(0) "),o.y&&(o.y.c=this._lerp(o.y.s,o.y.e),e.transform+="translateY("+o.y.c+o.y.u+")",e.transform+="translateZ(0) "),o.scaleX&&(o.scaleX.c=this._lerp(o.scaleX.s,o.scaleX.e),e.transform+="scaleX("+o.scaleX.c+") "),o.scaleY&&(o.scaleY.c=this._lerp(o.scaleY.s,o.scaleY.e),e.transform+="scaleY("+o.scaleY.c+") "),o.rotateX&&(o.rotateX.c=this._lerp(o.rotateX.s,o.rotateX.e),e.transform+="rotateX("+o.rotateX.c+o.rotateX.u+") "),o.rotateY&&(o.rotateY.c=this._lerp(o.rotateY.s,o.rotateY.e),e.transform+="rotateY("+o.rotateY.c+o.rotateY.u+") "),o.opacity&&(o.opacity.c=this._lerp(o.opacity.s,o.opacity.e),e.opacity=o.opacity.c);else if(this.at===n.TARGET_TYPE.OBJECT)for(var r in o)this.o.el.hasOwnProperty(r)&&(this.o.el[r]=this._lerp(o[r].s,o[r].e));this.at===n.TARGET_TYPE.DOM&&this.o.el.forEach((function(t){t.style.opacity=e.opacity,t.style.transform=e.transform})),this.o.update&&this.o.update(this.p),1===this.p&&(this.pause(),this.o.cb&&this.o.cb())},_lerp:function(t,i){var o,r,n="string"==typeof this.o.e?e[this.o.e](this.p):this.o.e(this.p);return o=function(t,i,o){return(i-t)*o+t}(t,i,n),r=void 0===(r=2)?100:Math.pow(10,r),Math.round(o*r)/r}},n}();
